<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>DataViz Makeover: DataViz Makeover 2</title>

<meta property="description" itemprop="description" content="Singapore&#39;s Top 10 Trading Partners for Import and Export Markets between 2011 and 2020"/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-06-13"/>
<meta property="article:created" itemprop="dateCreated" content="2021-06-13"/>
<meta name="article:author" content="Davmes Tan"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="DataViz Makeover: DataViz Makeover 2"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Singapore&#39;s Top 10 Trading Partners for Import and Export Markets between 2011 and 2020"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="DataViz Makeover"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="DataViz Makeover: DataViz Makeover 2"/>
<meta property="twitter:description" content="Singapore&#39;s Top 10 Trading Partners for Import and Export Markets between 2011 and 2020"/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["DataViz Makeover 2"]},{"type":"character","attributes":{},"value":["Singapore's Top 10 Trading Partners for Import and Export Markets between 2011 and 2020"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Davmes Tan"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/davmestan/"]}]}]},{"type":"character","attributes":{},"value":["06-13-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]},{"type":"logical","attributes":{},"value":[false]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["dataviz-makeover-2_files/anchor-4.2.2/anchor.min.js","dataviz-makeover-2_files/bowser-1.9.3/bowser.min.js","dataviz-makeover-2_files/distill-2.2.21/template.v2.js","dataviz-makeover-2_files/header-attrs-2.6/header-attrs.js","dataviz-makeover-2_files/jquery-1.11.3/jquery.min.js","dataviz-makeover-2_files/popper-2.6.0/popper.min.js","dataviz-makeover-2_files/tippy-6.2.7/tippy-bundle.umd.min.js","dataviz-makeover-2_files/tippy-6.2.7/tippy-light-border.css","dataviz-makeover-2_files/tippy-6.2.7/tippy.css","dataviz-makeover-2_files/tippy-6.2.7/tippy.umd.min.js","dataviz-makeover-2_files/webcomponents-2.0.0/webcomponents.js","img/actions.png","img/Alignment.png","img/animation.png","img/calculated.png","img/DashboardFinal.jpg","img/Data Interpreter.png","img/delete.png","img/editalias.png","img/editfilter.png","img/EditShapes.png","img/excludetotal.png","img/filtersetting.png","img/flagbubble.png","img/flags.png","img/flagsgroup.png","img/font.png","img/highlight.png","img/highlightaction.png","img/import.png","img/importexport.png","img/importexport2.png","img/initialvisualisation.png","img/insert.png","img/italy.png","img/italyvalue.png","img/join.png","img/joinsettings.png","img/marketformula.png","img/nettrade.png","img/numbers.png","img/original.jpg","img/output.png","img/pivot.png","img/prep.png","img/RefLine.png","img/RefLine2.png","img/RefLine3.png","img/RefLine4.png","img/RefLine5.png","img/RefLine6.png","img/RefLine7.png","img/reload.png","img/saveOutput.PNG","img/showall.png","img/showfilter.png","img/showfilter2.png","img/sketch.jpg","img/sort.png","img/SortTop10.png","img/split.png","img/synchronise.png","img/T1edits.png","img/T1final.PNG","img/T1T2final.PNG","img/tooltip.png","img/tooltiptext.png","img/Top10.png","img/Top10Importer.png","img/topexporters.png","img/topimporters.png","img/totaltrade.png","img/viewnclean.png","img/years.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.6/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DataViz Makeover 2","description":"Singapore's Top 10 Trading Partners for Import and Export Markets between 2011 and 2020","authors":[{"author":"Davmes Tan","authorURL":"https://www.linkedin.com/in/davmestan/","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-06-13T00:00:00.000+08:00","citationText":"Tan, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">DataViz Makeover</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="https://wiki.smu.edu.sg/2021t2isss608/DataViz">Past DataViz</a>
<a href="https://wiki.smu.edu.sg/2021t2isss608/Project_Groups">Past Projects</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DataViz Makeover 2</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Singapores Top 10 Trading Partners for Import and Export Markets between 2011 and 2020</p></p>
</div>

<div class="d-byline">
  Davmes Tan <a href="https://www.linkedin.com/in/davmestan/" class="uri">https://www.linkedin.com/in/davmestan/</a> 
  
<br/>06-13-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#visualisation-critiques">2. Visualisation Critiques</a>
<ul>
<li><a href="#clarity">2.1 Clarity</a>
<ul>
<li><a href="#contradicting-numbers-regarding-net-trading-markets">2.1.1 <strong>Contradicting Numbers regarding Net Trading Markets</strong></a></li>
<li><a href="#missing-title-objective-and-period-of-measure">2.1.2 <strong>Missing Title, Objective and Period of Measure</strong></a></li>
<li><a href="#unknown-selection-criteria-for-trading-countries-markets">2.1.3 <strong>Unknown Selection Criteria for Trading Countries/ Markets</strong></a></li>
<li><a href="#net-importers-exporters">2.1.4 <strong>Net Importers/ Exporters</strong></a></li>
</ul></li>
<li><a href="#aesthestics">2.2 Aesthestics</a>
<ul>
<li><a href="#incorrect-placement-of-importsexports-icon">2.2.1 <strong>Incorrect Placement of Imports/Exports Icon</strong></a></li>
<li><a href="#inconsistent-placement-and-overlapping-of-tooltip-info">2.2.2 <strong>Inconsistent Placement and Overlapping of Tooltip Info</strong></a></li>
<li><a href="#graph-layout">2.2.3 <strong>Graph Layout</strong></a></li>
</ul></li>
</ul></li>
<li><a href="#proposing-an-improved-visualisation">3. Proposing an Improved Visualisation</a></li>
<li><a href="#the-improved-visualisation">4. The Improved Visualisation</a></li>
<li><a href="#step-by-step-description-on-how-the-improved-visualisation-was-prepared">5. Step-by-Step Description on how the Improved Visualisation was prepared</a>
<ul>
<li><a href="#data-preparation">5.1 Data Preparation</a>
<ul>
<li><a href="#getting-started-with-tableau-prep-builder">5.1.1 Getting Started with Tableau Prep Builder</a></li>
<li><a href="#cleaning-t1-and-t2">5.1.2 Cleaning T1 and T2</a></li>
<li><a href="#creating-union-between-t1-and-t2">5.1.3 Creating Union between T1 and T2</a></li>
<li><a href="#removing-repeated-columns">5.1.4 Removing Repeated Columns</a></li>
<li><a href="#saving-the-cleaned-data-into-a-new-worksheet">5.1.5 Saving the Cleaned Data into a new Worksheet</a></li>
</ul></li>
<li><a href="#building-the-visualisation">5.2 Building the Visualisation</a>
<ul>
<li><a href="#creating-calculated-fields">5.2.1 Creating Calculated Fields</a></li>
<li><a href="#creating-top-10-importers-chart">5.2.2 Creating Top 10 Importers Chart</a></li>
<li><a href="#bubble-plot-for-net-trade">5.2.3 Bubble Plot for Net Trade</a></li>
<li><a href="#creating-a-new-dashboard">5.2.4 Creating a new Dashboard</a></li>
</ul></li>
</ul></li>
<li><a href="#new-insights-from-the-improved-visualisation">6. New Insights from the Improved Visualisation</a></li>
</ul>
</nav>
</div>
<h1 id="introduction">1. Introduction</h1>
<p>Merchandise Trade data collated by the Department of Statistics Singapore, comprising of total imports/ exports since January 1976, is published on <a href="https://www.singstat.gov.sg/find-data/search-by-theme/trade-and-investment/merchandise-trade/latest-data">here</a>. The data is segregated into various regions and countries. We were given a set of visualisation, based on the data, and was tasked to provide critiques and to further suggest how to better improve the visualisation. The original visualisation is represented below:</p>
<p><img src="img/original.jpg" /></p>
<h1 id="visualisation-critiques">2. Visualisation Critiques</h1>
<h2 id="clarity">2.1 Clarity</h2>
<h3 id="contradicting-numbers-regarding-net-trading-markets">2.1.1 <strong>Contradicting Numbers regarding Net Trading Markets</strong></h3>
<p>Hong Kong was indicated as Singapores Top Exporter while Taiwan was indicated as Singapores Top Importer at $69Bn and $75.2Bn respectively. However, many other countries/ regions were listed with higher numbers such as $102.4Bn (United States), $90.1 Bn (EU), $103.5 mil (Malaysia) and $136.2Bn (China). This create a confusion for the readers to evaluate whether Hong Kong/ Taiwan were the top exporter/importer markets while other countries/ region having a seemingly larger numbers may suggest a higher net trade balances. What is missing from the graph, is the net trade balances of the respective markets. By indicating the net trade balances from the markets, it would present a more convincing picture.</p>
<h3 id="missing-title-objective-and-period-of-measure">2.1.2 <strong>Missing Title, Objective and Period of Measure</strong></h3>
<p>While the graph bears a central theme towards a Net Importer and Net Exporter country, it failed to suggest the period of measure. In one of its caption, the focus was on Mainland China in 2009 while the other was on US in 2006. The reader would not be able determine the period of measure for this visualisation and the additional caption, without context, would further confuse the readers.</p>
<h3 id="unknown-selection-criteria-for-trading-countries-markets">2.1.3 <strong>Unknown Selection Criteria for Trading Countries/ Markets</strong></h3>
<p>The graph listed the trading information of 10 countries/ region/ markets. There were no mentioning of the selection criteria of the 10 trading markets. While some are countries, it included a EU region, comprising of several EU nations. Therefore, it may baffle the readers on the comparison factors/ considerations into selecting the trading markets in the graph.</p>
<h3 id="net-importers-exporters">2.1.4 <strong>Net Importers/ Exporters</strong></h3>
<p>At the bottom right of the graph, a label suggesting Net Exporters and at the top left of the graph, a label suggesting Net Importers were not clear in its purposes. While it may refer to the net import/export from the respective trade markets, it was not indicative of the period of measure for this summation. There is no indication of the date duration for this summation.</p>
<h2 id="aesthestics">2.2 Aesthestics</h2>
<h3 id="incorrect-placement-of-importsexports-icon">2.2.1 <strong>Incorrect Placement of Imports/Exports Icon</strong></h3>
<p>From the graph, it was assumed that the x-axis referred to the total exports to the trade markets, while the y-axis represented the total imports from the trade markets. While the colour sequence of the imports (blue) and exports (green), matched the scale and area, the placement of imports and exports icon at the beginning of x-y scale could be better. While the respective icons was meant to indicate the line of scale - blue scale represented by imports (thus being placed at the start of the line), and green scale represented by exports (thus being placed at the start of the line), intuitively, that is not how a reader may interpret the labels.</p>
<h3 id="inconsistent-placement-and-overlapping-of-tooltip-info">2.2.2 <strong>Inconsistent Placement and Overlapping of Tooltip Info</strong></h3>
<p>The graph attempted to annotate the details of the trade markets total trade volume. However, it is contradiction with the concluding information, which was supposed to suggest net trade volume. The annotation was also in the way of the trade markets bubble, thus making the reading of the graph difficult. In addition, the center white circle, that was supposed to represent the net trade balance, was not visible on some of the trade markets bubbles.</p>
<h3 id="graph-layout">2.2.3 <strong>Graph Layout</strong></h3>
<p>The graph had four components: (a) the visualisation graph; (b) definition of the graph; (c) legend; and (d) insight. While all four components were suggesting along the same topic on net trade surplus/deficit, the placement of the components and the visualisation of the graph was not intuitive for readers. For instance, the size of the bubble were premised on the net trade volume(summation of imports and exports). The legend was focusing on the net importer and exporter while the insights were referencing US and Mainland China. Therefore, the layout of the graph would need to be consistent and intuitive, so that the readers is able to understand the infographics intuitively, without much processing and cross-referencing.</p>
<h1 id="proposing-an-improved-visualisation">3. Proposing an Improved Visualisation</h1>
<p>With the above critiques, I would be suggesting an alternate graphical presentation to better present the data to a wider audience. The proposed layout of the improved visualisation is as stated below:</p>
<p><img src="img/sketch.jpg" /></p>
<h1 id="the-improved-visualisation">4. The Improved Visualisation</h1>
<p>The improved visualisation would address all the critiques that were mentioned above. In addition, we would maintain the existing bubble plot, with the added enhancements:</p>
<ul>
<li><p>The reader would be able to select the year of trade.</p></li>
<li><p>The size of the bubble will correspond with the trade markets net trade volume. For instance, if the trade market is a net importer, the net trade volume would reflect the net import value.</p></li>
<li><p>A dynamic tooltip would provide additional information of the selected trade market. It would display:</p>
<ul>
<li>Trade Year</li>
<li>Trade Market</li>
<li>Net Trade Volume</li>
<li>Past Trade information from 2011 to 2020</li>
</ul></li>
<li><p>The Top 10 Importers and Exporters would be display, to allow readers to how the trade markets had evolved over the years.</p></li>
</ul>
<h1 id="step-by-step-description-on-how-the-improved-visualisation-was-prepared">5. Step-by-Step Description on how the Improved Visualisation was prepared</h1>
<h2 id="data-preparation">5.1 Data Preparation</h2>
<h3 id="getting-started-with-tableau-prep-builder">5.1.1 Getting Started with Tableau Prep Builder</h3>
<p>We could use Tableau Prep Builder to prepare and to clean the data. Do the following steps:</p>
<ul>
<li>Open the Excel file <img src="img/prep.png" /></li>
<li>Check on Use Data Interpreter to allow Tableau to best-interpret the excel worksheets. <img src="img/Data%20Interpreter.png" /></li>
<li>Double click on T1 and T2, to load both worksheets. The final screen should look like this: <img src="img/import.png" /></li>
</ul>
<h3 id="cleaning-t1-and-t2">5.1.2 Cleaning T1 and T2</h3>
<p>We will now commence to clean T1. Click on View and clean data: <img src="img/viewnclean.png" /> Since we are looking at data from Jan 2011, we will proceed to delete all columns before Jan 2011. To do that, click on the column at 1976 Jan and Shift+click 2010 Dec. This will select all the columns. Right click on any of the selected columns, and click on remove. Do the same for Jan 2021 to Apr 2021. <img src="img/delete.png" /> There is a need to pivot the table, such that the columns are now referred to as rows. To do that, select all the columns, less Variables. Right click on any of the selected column and choose Pivot Columns to Rows <img src="img/pivot.png" /> Inside the worksheet, there is a row that indicates the Total Merchandise Imports. Similarly, there are collated information based on regional imports. To avoid repetitions but to keep regional information (Africa, Asia, Americas etc), choose Total Merchandise Imports and click on exclude. <img src="img/excludetotal.png" /> The trading markets are currently listed with unnecessary information such as, Thousand Dollars. To remove them, we could use Tableau Automatic Split function to trim the data. Right click on Variables and then choose Split Values -&gt; Automatic Split <img src="img/split.png" /> With there, there is a series of adjustments that we need to make for T1:</p>
<ol type="1">
<li>Rename Variables - Split 1 to Import Market</li>
<li>Remove Variables - Split 2 column</li>
<li>Rename Pivot1 Names to Import Month</li>
<li>Change the format of Import Month from String to Date</li>
<li>Rename Pivot1 Values to Import Value</li>
<li>Remove Variables column</li>
</ol>
<p><img src="img/T1edits.png" /></p>
<p>The final table for T1 should look like this:</p>
<p><img src="img/T1final.PNG" /></p>
<p>We will proceed to do similar steps for T2.</p>
<p>The final screen should look like this:</p>
<p><img src="img/T1T2final.PNG" /></p>
<h3 id="creating-union-between-t1-and-t2">5.1.3 Creating Union between T1 and T2</h3>
<p>There is a need to create a union between T1 and T2. To do this, drag T1 Pivot into T2 Pivot and ensure that the word join is highlighted.</p>
<p><img src="img/join.png" /></p>
<p>Next, go to Settings, and join the following fields together:</p>
<ul>
<li>Export Market = Import Market</li>
<li>Export Month = Import Month</li>
</ul>
<p><img src="img/joinsettings.png" /></p>
<h3 id="removing-repeated-columns">5.1.4 Removing Repeated Columns</h3>
<p>Since Imported Market and Exported Market, and Imported Month and Exported Month are the same, we would delete one of the column, and rename them instead.</p>
<ul>
<li>Rename <strong>Import Month</strong> to <strong>Month</strong></li>
<li>Rename <strong>Import Market</strong> to <strong>Market</strong></li>
<li>Remove <strong>Export Month</strong></li>
<li>Remove <strong>Export Market</strong></li>
</ul>
<h3 id="saving-the-cleaned-data-into-a-new-worksheet">5.1.5 Saving the Cleaned Data into a new Worksheet</h3>
<p>Once the join is complete, we can export the file into Excel, to be used in Tableau. To do so, click on the plus sign and choose Output.</p>
<p><img src="img/output.png" /></p>
<p>To create an output to Excel, do the following under the settings pane:</p>
<ol type="1">
<li>Ensure "Microsoft Excel (.xlsx) is selected</li>
<li>Browse and locate the original Excel file</li>
<li>Type prep and click on Create new worksheetPrep"</li>
</ol>
<p>Once that is done, click on Run Flow</p>
<p><img src="img/saveOutput.PNG" style="width:50.0%" /></p>
<p>Now, a new worksheet has been created inside the original Excel file. We can proceed to use the worksheet to create the Visualisation inside Tableau.</p>
<h2 id="building-the-visualisation">5.2 Building the Visualisation</h2>
<h3 id="creating-calculated-fields">5.2.1 Creating Calculated Fields</h3>
<p>There is a need to create various calculated fields, so that we could calculated the following:</p>
<ul>
<li>Total Trade Volume</li>
<li>Top Importer</li>
<li>Top Exporter</li>
<li>Net Trade</li>
</ul>
<p>To do so, go to the Data Pane, click on the down arrow and choose Create Calculated Field <img src="img/calculated.png" style="width:30.0%" /></p>
<ul>
<li>Creating <strong>Total Trade</strong> Calculated Field</li>
</ul>
<p><img src="img/totaltrade.png" style="width:50.5%" /></p>
<ul>
<li>Creating <strong>Top Importers</strong> Calculated Field</li>
</ul>
<p><img src="img/topimporters.png" style="width:50.0%" /></p>
<ul>
<li>Creating <strong>Top Exporters</strong> Calculated Field</li>
</ul>
<p><img src="img/topexporters.png" style="width:50.0%" /></p>
<ul>
<li>Creating <strong>Absolute Net Trade</strong> Calculated Field</li>
</ul>
<p><img src="img/nettrade.png" style="width:50.0%" /></p>
<h3 id="creating-top-10-importers-chart">5.2.2 Creating Top 10 Importers Chart</h3>
<p>To create a graph plot, to list the top 10 Importers, we can do the following:</p>
<ul>
<li>Drag <strong>Top Importer</strong> into the <strong>Rows</strong></li>
<li>Drag <strong>Market</strong> into the <strong>Columns</strong></li>
<li>Drag <strong>Market</strong> into the <strong>Color</strong></li>
<li>Drag <strong>Market</strong> into the <strong>Filters</strong></li>
<li>Right click on Filters -&gt; Market and choose <strong>Edit Filter</strong></li>
</ul>
<p><img src="img/editfilter.png" style="width:30.0%" /></p>
<ul>
<li>Go to <strong>Top</strong> Tab</li>
<li>Choose <strong>By Field</strong></li>
<li>Adjust the filter to select the Top 10 Importers</li>
</ul>
<p><img src="img/Top10.png" style="width:50.0%" /></p>
<p>Next we will go to the <strong>Rows</strong>, select <strong>Market</strong> and then click on <strong>Sort</strong></p>
<p><img src="img/sort.png" style="width:50.0%" /></p>
<p>Adjust the following parameters:</p>
<ul>
<li>Sort By: Field</li>
<li>Sort Order: Ascending</li>
<li>Field Name: Top Importer</li>
<li>Aggregation: Sum</li>
</ul>
<p><img src="img/SortTop10.png" style="width:40.0%" /></p>
<p>After the adjustments, the chart should look something like this:</p>
<p><img src="img/Top10Importer.png" /></p>
<h4 id="aesthetics">5.2.2.1 Aesthetics</h4>
<p>We would proceed to improve the <strong>aesthetics</strong> of this chart. First, we can add the <strong>Net Import Value</strong> into the graph. To do so, we could do the following:</p>
<ul>
<li><p>Drag <strong>Importer</strong> into <strong>Label</strong></p></li>
<li><p>Right-Click on <strong>SUM(Top Importer)</strong> and click on <strong>Format</strong></p></li>
<li><p>Under Format, adjust the following parameters:</p>
<ul>
<li>Under Font, choose size 10 and Bold</li>
</ul>
<p><img src="img/font.png" style="width:30.0%" /></p>
<ul>
<li>Under Alignment; (1) Horizontal-Centre; (2) Direction-Up; (3) Vertical-Top; and (4) Wrap-Automatic</li>
</ul>
<p><img src="img/Alignment.png" style="width:30.0%" /></p>
<ul>
<li>Under Numbers: (1) Numbers (Custom); (2) Decimal-0; (3) Display Units-Million (M); and Prefix-SGD</li>
</ul>
<p><img src="img/numbers.png" style="width:50.0%" /></p></li>
</ul>
<p>The chart would then show the Top 10 Net Importers into Singapore, cumulated between 2011 and 2020, with <strong>Italy at the 10th spot</strong>. There is a need to know the total net import amount, as this would aid in subsequent building of the charts. To find out the total net import amount from the 10th trading market, right-click on Italy and click on <em>View Data</em>. The total net import value for Italy (10th Net Importer) is <strong>41,314,586</strong></p>
<p><img src="img/italy.png" style="width:40.0%" /> <img src="img/italyvalue.png" style="width:30.0%" /></p>
<p>Next, we would add the <strong>Year Filter</strong> into the chart. To do so:</p>
<ul>
<li>Drag <strong>Month</strong> into Filters</li>
<li>Select <strong>Years</strong> and click Next; Choose all the values listed inside</li>
</ul>
<p><img src="img/years.png" style="width:30.0%" /></p>
<ul>
<li>Right-click on the dimension and click <strong>Show Filter</strong></li>
</ul>
<p><img src="img/showfilter.png" style="width:30.0%" /></p>
<ul>
<li>Right-click on the down-arrow at the filter and click <strong>Single Value (list)</strong></li>
</ul>
<p><img src="img/filtersetting.png" style="width:30.0%" /></p>
<ul>
<li>To allow readers to compare values between years, we will remove the (All) option. To do this, right-click on the down-arrow, select Customised and uncheck the <strong>Show All Value</strong></li>
</ul>
<p><img src="img/showall.png" style="width:30.0%" /></p>
<h4 id="making-minor-adjustments">5.2.2.2 Making Minor Adjustments</h4>
<p><strong>Adjustments of Trade Market Names</strong></p>
<p>For some trade markets, they may be too long, for properly alignment subsequently. Therefore, we will adjust the following market names:</p>
<ul>
<li>United States to US</li>
<li>United Arab Emirates to UAE</li>
<li>Germany, Federal Republic to Germany</li>
</ul>
<p>To do so, go to the name of the trade market, right-click and choose <strong>Edit Alias</strong></p>
<p><img src="img/editalias.png" style="width:30.0%" /></p>
<h4 id="creating-top-10-exporter-chart">5.2.2.3 Creating Top 10 Exporter Chart</h4>
<p>With similar concepts from the creation of Top 10 Importer Chart, we can proceed to do a new Top 10 Exporter Chart. However do that:</p>
<ul>
<li>Instead of Sorting it in Ascending Order, <strong>Sort it in Desecnding Order</strong> with the field <strong>Top Exporter</strong>.</li>
</ul>
<h3 id="bubble-plot-for-net-trade">5.2.3 Bubble Plot for Net Trade</h3>
<p>To create the Net Trade Bubble Plot, we would do the following:</p>
<ul>
<li><p>Drag the <strong>Import Value</strong> to <strong>Rows</strong></p></li>
<li><p>Drag the <strong>Export Value</strong> to <strong>Columns</strong></p></li>
<li><p>Drag the <strong>Market</strong> to <strong>Color</strong></p>
<ul>
<li>Go to <strong>Condition</strong>, choose <strong>By Formula</strong> and type the following:</li>
<li>SUM([Top Importer]) &gt;= 41314586 OR SUM([Top Exporter]) &gt;= 41499315 <em>this will tell Tableau that we are keen to select the Top 10 Importers and the Top 10 Exporters</em> <img src="img/marketformula.png" style="width:50.0%" /></li>
</ul></li>
<li><p>Drag <strong>Net Trade</strong> to <strong>Size</strong></p></li>
<li><p>Drag <strong>Month</strong> to Filter, choose <strong>Year</strong> and click Next, and Select all Values available.</p></li>
<li><p>Similarly, click on the <strong>Year(Month)</strong> down-arrow and click <strong>Show Filter</strong></p></li>
</ul>
<p><img src="img/showfilter2.png" style="width:30.0%" /></p>
<ul>
<li>Similarly, change the filter to radio buttons and disable the <strong>Show All Values</strong></li>
</ul>
<p>The initial visualisation should look like this:</p>
<p><img src="img/initialvisualisation.png" /></p>
<h4 id="adding-a-diagonal-reference-line">5.2.3.1 Adding a Diagonal Reference Line</h4>
<p>For the Net Trade Bubble Chart, it would be useful to add a diagonal line, such the anything towards the left of the line would suggest that it is an <strong>Market Importer</strong> while anything that is towards the right of the line would suggest that it is an <strong>Market Exporter</strong></p>
<p>Since Tableau does not have a function to add a diagonal reference line, we would attempt to use <strong>Trending LIne</strong> to server as a reference line. To do that, we would do the following:</p>
<ul>
<li>Go to <strong>Analysis</strong> and then switch off <strong>Aggregate Measures</strong>. This will allow Tableau to show all data points, instead of aggregating them.</li>
<li>Create a <strong>Calculated Field</strong> and rename it as <strong>Diagonal Reference Line</strong>. Inside the field, add <strong>[Export Values]</strong> into it.</li>
<li>Drag <strong>Market</strong> into Detail and <strong>Import Value</strong> into <strong>Color</strong></li>
<li>Drag <strong>DIagonal Reference Line</strong> into <strong>Rows</strong>, placing it next to <strong>Import Value</strong></li>
</ul>
<p><img src="img/RefLine.png" style="width:50.0%" /></p>
<ul>
<li>Click <strong>Diagonal Reference Line</strong> and click on <strong>Dual Axis</strong></li>
</ul>
<p><img src="img/RefLine2.png" style="width:50.0%" /></p>
<ul>
<li>Right-Click on <strong>Diagonal Reference Line Axis</strong> and choose <strong>Synchronise Axis</strong></li>
</ul>
<p><img src="img/RefLine3.png" /></p>
<ul>
<li>Go to <strong>SUM(Diagonal Reference Line)</strong> pane, click on <strong>Automatic</strong> and change to <strong>Line</strong></li>
<li>Go to one of the lower point, along the plot, right-click, and go to <strong>Trend Lines</strong>, <strong>Show Trend Lines</strong></li>
</ul>
<p><img src="img/RefLine4.png" style="width:90.0%" /></p>
<ul>
<li>Click on <strong>Color</strong> and reduce the opacity to 0%.</li>
<li>Right click on the <strong>Diagonal Reference Line</strong> axis and switch off <strong>Show Header</strong></li>
<li>Click on the <strong>Trend Line</strong>, and click <strong>Edit</strong></li>
<li>Uncheck on the box <strong>Show tooltips</strong></li>
</ul>
<p><img src="img/RefLine5.png" style="width:30.0%" /> <img src="img/RefLine6.png" style="width:40.0%" /></p>
<ul>
<li><p>Synchronise both axes by providing fixed ranges</p>
<ul>
<li>Fixed Start: -5000000</li>
<li>Fixed End: 75000000</li>
</ul></li>
<li><p>Go to <strong>SUM(Import Value)</strong> pane, remove <strong>SUM(Import Value)</strong> from <strong>Color</strong> and replace it with <strong>Market</strong></p></li>
<li><p>Go to <strong>Analysis</strong> and switch on <strong>Aggregated Measures</strong> again. The final screen should look like this.</p></li>
</ul>
<p><img src="img/RefLine7.png" /></p>
<h4 id="improving-the-aesthesics-of-net-trade-bubble-chart">5.2.3.2 Improving the Aesthesics of Net Trade Bubble Chart</h4>
<p>A couple of things could be adjusted to make the Bubble Chart more readable and intuitive.</p>
<ul>
<li>Change the <strong>Automatic</strong> parameter to a <strong>Circle</strong> parameter</li>
<li>Adjust the size of the <strong>circle</strong> to about 75%</li>
<li>Adding <strong>Market</strong> into the labelling, and adjust the labelling to be on top of the bubble</li>
</ul>
<h4 id="adding-flags-to-be-used-as-bubble-chart">5.2.3.3 Adding Flags to be used as Bubble Chart</h4>
<p>To add flags to be presented onto the Bubble Chart, there is a need to download and create a repository for the flags. To download the flags, we could go to <a href="https://www.flaticon.com/">Flaticon</a>. After which, go to Tableau default folder and create a <strong>Flags</strong> folder. This folder would be used to save all the flags.</p>
<p><img src="img/flags.png" style="width:30.0%" /></p>
<p>Next, do the following:</p>
<ul>
<li>Change from the existing Circles to Shapes</li>
<li>Drag <strong>Market</strong> into Shape</li>
<li>Right-Click on the Market Legend and choose <strong>Edit Shapes</strong></li>
</ul>
<p><img src="img/EditShapes.png" style="width:30.0%" /></p>
<ul>
<li>Click on <strong>Reload Shapes</strong></li>
</ul>
<p><img src="img/reload.png" style="width:30.0%" /></p>
<ul>
<li>We should see the Flags category, and assign the flags accordingly.</li>
</ul>
<p><img src="img/flagsgroup.png" style="width:30.0%" /></p>
<p>The final product should look like this:</p>
<p><img src="img/flagbubble.png" /></p>
<h4 id="enhancing-bubble-plot-tooltip">5.2.3.4 Enhancing Bubble Plot Tooltip</h4>
<p>We would attempt to include an Import and Export graph, over the past 10 years, to allow users to view the historical data. To do that:</p>
<ul>
<li>Create a <strong>new worksheet</strong> and name it as <strong>Import and Export</strong>.</li>
<li>Drag <strong>Month</strong> to <strong>Columns</strong> and choose <strong>Year</strong></li>
<li>Drag <strong>Import Value</strong> to Rows and <strong>Export Value</strong> to the right of the graph.</li>
</ul>
<p>The graph should look likle this:</p>
<p><img src="img/importexport.png" style="width:50.0%" /></p>
<ul>
<li>Synchronise both axes</li>
</ul>
<p><img src="img/synchronise.png" style="width:30.0%" /></p>
<ul>
<li>Resize the chart, and ensure the axes colours are themed in accordance to the colour of the line. The size of the chat should look like this:</li>
</ul>
<p><img src="img/importexport2.png" /></p>
<ul>
<li>Go back to <strong>Net Trade</strong> worksheet and adjust the tooltip by clicking <strong>Insert</strong> -&gt; <strong>Sheets</strong> -&gt; <strong>Import and Export</strong>. Adjust the maxwidth to 500.</li>
</ul>
<p><img src="img/insert.png" style="width:60.0%" /> <img src="img/tooltiptext.png" /></p>
<p>The final tooltip should look this:</p>
<p><img src="img/tooltip.png" style="width:50.0%" /></p>
<h3 id="creating-a-new-dashboard">5.2.4 Creating a new Dashboard</h3>
<p>Before the dragging of any worksheets into the dashboard, it is important to ensure that the size of the dashboard is set to <strong>automatic</strong>. To create an interactive dashboard, we would drag the following 3 worksheets into the dashboard"</p>
<ul>
<li>Top 10 Importer</li>
<li>Top 10 Exporter</li>
<li>Net Trade</li>
</ul>
<p>Create a new title and label it as <strong>Singapores Trading Partners (Import/ Export) for 2011 to 2020</strong>.</p>
<p>To allow the respective market to be highlighted, when any trade market is selected at the Bubble Plot, do the following:</p>
<ul>
<li>Go to <strong>Dashboard</strong> and click on <strong>Actions</strong></li>
</ul>
<p><img src="img/actions.png" style="width:30.0%" /></p>
<ul>
<li>Click on <strong>Add Action</strong> and choose <strong>Highlight</strong></li>
</ul>
<p><img src="img/highlight.png" style="width:30.0%" /></p>
<ul>
<li><p>Key in the following:</p>
<ul>
<li>Click on <strong>Select</strong></li>
<li>Under Source Sheets, select <strong>Net Trade</strong> only</li>
<li>Under Target Sheets, select <strong>Top 10 Exporter</strong> and <strong>Top 10 Importer</strong></li>
</ul></li>
</ul>
<p><img src="img/highlightaction.png" style="width:50.0%" /></p>
<p>Now, whenever any trade market is selected on the Bubble Chart, the respective Import/Export chart would be highlighted, with the selected market.</p>
<p><em>Adding Animation</em></p>
<p>Since the reader is able to select between the year of data, it would be useful to add animation to allow the reader to visualise the changes over the years. To do so:</p>
<ul>
<li>Go to <strong>Format</strong> -&gt; <strong>Animations</strong></li>
<li>Switch it <strong>On</strong> and set duration <strong>1.00 seconds (Flow)</strong></li>
</ul>
<p><img src="img/animation.png" style="width:30.0%" /></p>
<p>The final dashboard would look like this:</p>
<p><img src="img/DashboardFinal.jpg" /></p>
<p>The interactive version could be found <a href="https://public.tableau.com/app/profile/davmes.tan/viz/DataViz2a/Dashboard1">here</a></p>
<h1 id="new-insights-from-the-improved-visualisation">6. New Insights from the Improved Visualisation</h1>
<p><strong>US, from a Net Importer, into a Net Exporter</strong></p>
<p>In 2011, Saudi Arabia was Singapores joint Top Importer with US, having a net import trade of about SGD 21 million. However, from 2018 onwards, US commenced on a downward decline and in 2020, US, from being our Top Net Importer between 2011 and 2017, became our Net Exporter, having a deficit of SGD 6 million. A possible explanation for this was that Donald Trump was elected as the President of the United Stated in 2017, with the inauguration on Jan 2018. Donald Trump implemented a series of trade barriers and the trade war between US and China, may have affect the market between Singapore and US.</p>
<p><strong>Trade Deficit with Hong Kong for the past 10 years</strong></p>
<p>For the past 10 years, Singapore has a trade deficit with Hong Kong in the ranges of SGD 50 million per year. That means that Singapore had exported out much more merchandise to Hong Kong, than we import from them. Transshipment between countries, transiting at Hong Kong, could be a reason for the constant high trade deficit, since the population of Hong Kong is not that big to be consuming so much merchandises.</p>
<p><strong>Malaysia, from a New Exporter, into a Net Importer</strong></p>
<p>Since 2011, Malaysia had been Singapores Net Exporter. However, from 2019, our exports to Malaysia started to dip, with the sharpest decline in 2020. That could be attributed to Covid-19 where Malaysia imposed a series of control order such as Movement Control Order (MCO), COnditional Movement Control Order and Recovery COntrol Order. The trade routes between Singapore and Malaysia premised on the 2 causeways between both countries. Therefore, with a series of control order in Malaysia, the export value dropped tremendously in 2020, resulting in an overall trade deficit of SGD 11 million.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
